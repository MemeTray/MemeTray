/* 基础主题变量（可暗色切换） */
:root{--bg:#f6f7fb;--text:#0b1220;--muted:#6b7280;--card-bg:#ffffff;--card-border:#e5e7eb;--card-hover:#0b1220;--accent:#0ea5e9;--glass-bg:rgba(255,255,255,.2);--glass-border:rgba(255,255,255,.35);--glass-shadow:0 18px 60px rgba(0,0,0,.18)}

body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:16px;color:var(--text);background:var(--bg);padding-bottom:64px}
.brand{display:none}
.notice{margin:8px 0 10px 0;padding:8px 10px;font-size:12px;border:1px dashed var(--glass-border);border-radius:10px;background:var(--glass-bg);backdrop-filter:saturate(1.8) blur(22px);-webkit-backdrop-filter:saturate(1.8) blur(22px)}
.notice a{color:var(--accent);text-decoration:none}
.notice a:hover{text-decoration:underline}
.legal{margin:8px 0 12px 0;padding:10px 12px;font-size:12px;line-height:1.6;background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:10px;color:var(--muted);backdrop-filter:saturate(1.8) blur(22px);-webkit-backdrop-filter:saturate(1.8) blur(22px)}
.legal strong{color:var(--text);margin-right:6px}
.legal-links{margin-top:6px}
.legal-links a{color:var(--accent);text-decoration:none}
.legal-links a:hover{text-decoration:underline}
.meta{font-size:12px;color:var(--muted);margin-bottom:10px}

/* 区块与网格 */
.section{margin:20px 0}
#container.container--folder .section{margin-top:0}
.section h2{margin:0 0 12px 0;font-size:14px;color:var(--muted);letter-spacing:.2px}
.gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px;align-items:stretch}

/* 顶部分组小方格选择器 */
.section-tiles{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px;margin:8px 0 12px 0}
.tile{display:flex;flex-direction:column;align-items:center;gap:6px;padding:10px;border:1px solid var(--glass-border);border-radius:10px;background:var(--glass-bg);cursor:pointer;backdrop-filter:saturate(1.8) blur(22px);-webkit-backdrop-filter:saturate(1.8) blur(22px)}
.tile:hover{border-color:var(--card-hover)}
.tile-thumb{width:64px;height:64px;border:1px solid var(--card-border);border-radius:8px;display:flex;align-items:center;justify-content:center;overflow:hidden;background:transparent}
.tile-thumb img{width:100%;height:100%;object-fit:contain}
.tile-title{font-size:12px;color:var(--text)}

/* 卡片 */
.gallery a{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:172px;padding:14px;text-decoration:none;color:var(--text);background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:12px;transition:border-color .15s ease,transform .15s ease,box-shadow .15s ease;backdrop-filter:saturate(1.8) blur(22px);-webkit-backdrop-filter:saturate(1.8) blur(22px);box-shadow:0 2px 8px rgba(0,0,0,.04)}
.gallery a:hover{border-color:var(--card-hover);transform:translateY(-1px) scale(1.01);box-shadow:0 8px 22px rgba(0,0,0,.08)}
.gallery a:active{transform:translateY(0) scale(.995)}
.thumb{width:128px;height:128px;display:flex;align-items:center;justify-content:center;border-radius:10px;background:transparent;border:1px solid var(--card-border)}
.gallery img{width:128px;height:128px;object-fit:contain}
.gallery img.fade-in{opacity:0;transition:opacity .25s ease}
.gallery img.fade-in.is-loaded{opacity:1}
.label{width:100%;margin-top:10px;font-size:12px;color:var(--muted);text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.footer{margin-top:24px;font-size:12px;color:var(--muted)}

/* 任务栏模拟 */
.taskbar{position:fixed;bottom:0;left:0;right:0;z-index:1000;color:#0b1220;background:var(--glass-bg);backdrop-filter:saturate(1.8) blur(22px);-webkit-backdrop-filter:saturate(1.8) blur(22px);border-top:1px solid var(--glass-border);height:48px;border-radius:0;margin-top:0}
.taskbar--light{background:rgba(243,243,243,.85)}
.taskcont{position:relative;width:100%;height:100%}
.taskright{position:absolute;top:0;right:0;height:100%;display:flex;align-items:center;gap:8px;padding-right:8px}
.tray{display:flex;align-items:center;gap:6px;padding:0 6px;border-left:1px solid var(--glass-border);border-right:1px solid var(--glass-border);border-radius:6px;background:transparent}
.tray-icon{width:20px;height:20px;border-radius:4px;background:transparent;display:flex;align-items:center;justify-content:center;overflow:hidden}
.tray-icon img{width:100%;height:100%;object-fit:contain}
.tasksCont{width:100%;height:100%;display:flex;flex-direction:column}
.tasksCont[data-side="center"]{align-items:center}
.tsbar{height:100%;display:flex;align-items:center}
.tsIcon{position:relative;width:38px;height:38px;margin:auto 3px;box-sizing:border-box;border-radius:4px;transition:all .2s ease}
.tsIcon:after{content:"";position:absolute;bottom:0;width:0;height:3px;border-radius:4px;background:#858585;transition:all .2s ease-in-out}
.tsIcon:hover{background:rgba(255,255,255,.67)}
.taskIcon{display:flex;flex-direction:row;align-items:center;justify-content:center;width:24px}
.prtclk{display:flex;align-items:center;gap:6px}
.taskDate{display:flex;padding:0 8px;font-size:12px;flex-direction:column;justify-content:center}
.taskDate div{text-align:center;font-weight:400}
.graybd{border:solid 1px transparent;height:1rem}
.graybd:hover{border:solid 1px #a1a1a1;border-width:0 0 0 2px}
.hvlight:hover{background:rgba(255,255,255,.8);transition:all 200ms ease-in-out}
.battery{display:flex;position:relative}
.btFull{overflow:hidden;position:absolute;z-index:0}
.charger svg{position:absolute;z-index:1}

/* spacing utilities to match win11React */
.flex{display:flex;align-items:center}
.px-2{padding-left:8px;padding-right:8px}
.px-1{padding-left:4px;padding-right:4px}
.my-1{margin-top:4px;margin-bottom:4px}
.rounded{border-radius:6px}
.taskright>.px-2{margin-right:4px}

/* GitHub link button */
.gh-link{position:fixed;top:10px;right:10px;width:28px;height:28px;display:flex;align-items:center;justify-content:center;border:1px solid var(--glass-border);border-radius:8px;background:var(--glass-bg);color:var(--text);text-decoration:none;box-shadow:0 2px 8px rgba(0,0,0,.06);backdrop-filter:saturate(1.8) blur(22px);-webkit-backdrop-filter:saturate(1.8) blur(22px)}
.gh-link:hover{border-color:var(--card-hover)}

/* 让托盘图标与 Win11React 一致：行内并排、16px 等比、垂直居中 */
.taskright{display:flex;align-items:center}
.prtclk{display:flex;align-items:center;gap:6px}
.prtclk img.taskIcon{width:16px;height:16px;display:block;vertical-align:middle;margin:0}
.uicon.taskIcon{display:flex;align-items:center}

/* 返回顶部按钮 */
.back-top{position:fixed;right:12px;bottom:60px;width:36px;height:36px;border-radius:10px;border:1px solid var(--glass-border);background:var(--glass-bg);color:var(--text);display:none;align-items:center;justify-content:center;box-shadow:0 6px 16px rgba(0,0,0,.08);cursor:pointer;z-index:1001;backdrop-filter:saturate(1.8) blur(22px);-webkit-backdrop-filter:saturate(1.8) blur(22px)}
.back-top:hover{border-color:var(--card-hover)}

/* 全屏加载遮罩 */
.splash{position:fixed;inset:0;z-index:2000;display:flex;align-items:center;justify-content:center;background:var(--bg)}
.splash-inner{display:flex;flex-direction:column;align-items:center;gap:12px;padding:20px;border-radius:16px}
.splash-text{font-size:28px;color:var(--muted)}
.splash--hide{opacity:0;pointer-events:none;transition:opacity .25s ease}

/* 桌面与窗口 */
.desktop{position:fixed;inset:0;z-index:0;background-image:url("../Images/background.jpg");background-size:cover;background-position:center;background-repeat:no-repeat;filter:saturate(1.05)}
.window{position:fixed;z-index:500;left:8px;top:8px;width:calc(100vw - 16px);height:calc(100vh - 48px - 16px);display:flex;flex-direction:column;border:1px solid var(--glass-border);border-radius:12px;background:var(--glass-bg);box-shadow:var(--glass-shadow), inset 0 0 0 1px rgba(255,255,255,.25);overflow:hidden;backdrop-filter:saturate(1.8) blur(22px);-webkit-backdrop-filter:saturate(1.8) blur(22px)}
.window-titlebar{height:40px;display:flex;align-items:center;gap:8px;padding:0 8px 0 6px;background:var(--glass-bg);border-bottom:1px solid var(--glass-border);cursor:move;user-select:none;backdrop-filter:saturate(1.8) blur(22px);-webkit-backdrop-filter:saturate(1.8) blur(22px)}
.window-title{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--muted);padding-top:2px;padding-bottom:2px;text-shadow:0 1px 2px rgba(0,0,0,.25)}
.window-title img{display:block}
.nav-btn{display:flex;align-items:center;justify-content:center;width:28px;height:28px;border:1px solid var(--glass-border);border-radius:6px;background:var(--glass-bg);color:var(--text);cursor:pointer;backdrop-filter:saturate(1.8) blur(22px);-webkit-backdrop-filter:saturate(1.8) blur(22px)}
.nav-btn[disabled]{opacity:.5;cursor:default}
.nav-btn:hover:not([disabled]){border-color:var(--card-hover)}
.window-content{flex:1;min-height:0;overflow:hidden;padding:12px;background:transparent;display:flex;flex-direction:column;position:relative}

/* 主体与侧栏布局 */
.content-row{display:flex;gap:12px;min-height:0;align-items:stretch;flex:1}
.sidebar{position:relative;height:100%;overflow:auto;flex:0 0 200px;max-width:240px;min-width:160px;display:none;flex-direction:column;gap:6px;padding:8px;border:1px solid var(--glass-border);border-radius:10px;background:var(--glass-bg);backdrop-filter:saturate(1.8) blur(22px);-webkit-backdrop-filter:saturate(1.8) blur(22px);transition:flex-basis .3s ease,min-width .3s ease,max-width .3s ease,opacity .3s ease}
.sidebar--collapsed{flex:0 0 48px;min-width:48px;max-width:48px;padding:8px}
.sidebar--collapsed .side-title,.sidebar--collapsed .side-item>div:last-child{display:none}
.sidebar--collapsed .side-item{justify-content:center;padding:8px}
.sidebar--collapsed .side-item .thumb{margin:0}
.sidebar--collapsed .side-header{justify-content:center;margin:2px 0 6px}
.sidebar .side-header{display:flex;align-items:center;justify-content:space-between;margin:2px 4px 6px;gap:8px}
.sidebar .side-title{font-size:12px;color:var(--muted);flex:1}
.sidebar-toggle{display:flex;align-items:center;justify-content:center;width:24px;height:24px;border:1px solid var(--card-border);border-radius:6px;background:transparent;color:var(--text);cursor:pointer;transition:border-color .15s ease,background .15s ease;flex-shrink:0}
.sidebar-toggle:hover{background:rgba(255,255,255,.55);border-color:var(--glass-border)}
.sidebar-toggle svg{transition:transform .3s ease}
.sidebar--collapsed .sidebar-toggle svg{transform:rotate(180deg)}
.sidebar .side-item{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:8px;color:var(--text);text-decoration:none;cursor:pointer;border:1px solid transparent}
.sidebar .side-item:hover{background:rgba(255,255,255,.55);border-color:var(--glass-border)}
.sidebar .side-item.active{background:rgba(255,255,255,.8);border-color:var(--card-hover);font-weight:600}
.sidebar .side-item .thumb{width:24px;height:24px;border-radius:6px;border:1px solid var(--card-border);display:flex;align-items:center;justify-content:center;overflow:hidden}
.sidebar .side-item img{width:100%;height:100%;object-fit:contain}
.main-pane{flex:1;min-width:0;min-height:0;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden}

/* 内容区首个分区去除顶边距，保证与侧栏顶部对齐 */
#container .section:first-child{margin-top:0}

/* 缩放手柄 */
.resize-handle{position:absolute;z-index:1001;pointer-events:auto}
.rh-n,.rh-s{left:0;right:0;height:8px;cursor:ns-resize}
.rh-e,.rh-w{top:0;bottom:0;width:6px;cursor:ew-resize}
.rh-n{top:0}
.rh-s{bottom:0}
.rh-e{right:0}
.rh-w{left:0}
.rh-ne,.rh-nw,.rh-se,.rh-sw{width:12px;height:12px}
.rh-ne{top:0;right:0;cursor:nesw-resize}
.rh-nw{top:0;left:0;cursor:nwse-resize}
.rh-se{right:0;bottom:0;cursor:nwse-resize}
.rh-sw{left:0;bottom:0;cursor:nesw-resize}

/* 路径栏 */
.pathbar{display:flex;align-items:center;gap:8px;margin:0 0 10px 0}
.breadcrumbs{display:flex;align-items:center;gap:6px;flex:1;min-width:0;padding:6px 8px;border:1px solid var(--glass-border);border-radius:8px;background:var(--glass-bg);font-size:12px;color:var(--text);backdrop-filter:saturate(1.8) blur(22px);-webkit-backdrop-filter:saturate(1.8) blur(22px)}
.crumb{display:flex;align-items:center;gap:6px;white-space:nowrap;cursor:pointer}
.crumb .sep{opacity:.6}
.crumb:hover{text-decoration:underline}
.crumb--link{opacity:.8}
.crumb--current{opacity:1;color:var(--text);font-weight:600;cursor:default}
.sep--chev{opacity:.45}
.count-badge{margin-left:6px;padding:0 6px;height:18px;line-height:18px;border-radius:999px;background:rgba(0,0,0,.45);color:#fff;font-size:11px;display:inline-flex;align-items:center;text-shadow:0 1px 2px rgba(0,0,0,.25)}

/* 标题栏内的面包屑采用横向排列 */
.window-title #windowTitleText{display:flex;align-items:center;gap:6px;flex-wrap:nowrap}
.window-title #windowTitleText .crumb{display:inline-flex}
.window-title #windowTitleText .sep{opacity:.6;text-shadow:0 1px 2px rgba(0,0,0,.25)}

/* 标题栏中的面包屑 */
.breadcrumbs--title{flex:0 1 auto;margin-left:8px;padding:4px 6px;border:none;background:transparent}
.window-titlebar .breadcrumbs--title .sep{opacity:.6}
.window-titlebar .breadcrumbs--title .crumb:hover{text-decoration:underline}

/* 隐藏内容区原有面包屑容器边框以弱化存在感，或根据需要隐藏 */
#pathbar .breadcrumbs{display:none}

/* 页脚固定在资源管理器底部 */
#legalFooter{margin-top:auto}
#legalFooter.legal--compact{position:absolute;right:12px;bottom:12px;margin:0;padding:6px 10px;background:#3E495C;border:1px solid rgba(255,255,255,.32);color:#fff;border-radius:999px;display:inline-flex;width:fit-content;white-space:nowrap;box-shadow:0 6px 16px rgba(0,0,0,.18)}
#legalFooter .legal-link{color:#fff;text-decoration:none}
#legalFooter .legal-link:hover{text-decoration:underline}

